import _0x3d269a from'express';import{createServer}from'http';import _0x454e9d from'path';import{Socket}from'socket.io';import{toBuffer}from'qrcode';import _0x2ca84a from'node-fetch';function connect(_0x52fc35,_0x7b6e9f){const _0x1832fd=global['app']=_0x3d269a();console['log'](_0x1832fd);const _0x3dffff=global['server']=createServer(_0x1832fd);let _0x28bc75='El\x20código\x20QR\x20es\x20invalido,\x20posiblemente\x20ya\x20se\x20escaneo\x20el\x20código\x20QR.';_0x52fc35['ev']['on']('connection.update',function _0x21e757({qr:_0x447f3a}){if(_0x447f3a)_0x28bc75=_0x447f3a;}),_0x1832fd['use'](async(_0x4b5e42,_0x473157)=>{_0x473157['setHeader']('content-type','image/png'),_0x473157['end'](await toBuffer(_0x28bc75));}),_0x3dffff['listen'](_0x7b6e9f,()=>{console['log']('[\x20ℹ️\x20]\x20La\x20aplicación\x20está\x20escuchando\x20el\x20puerto',_0x7b6e9f,'(ignorar\x20si\x20ya\x20escaneo\x20el\x20código\x20QR)');if(opts['keepalive'])keepAlive();});}function pipeEmit(_0x292151,_0x552aa1,_0xbaa8b8=''){const _0x2a691d=_0x292151['emit'];return _0x292151['emit']=function(_0x16fd5b,..._0x390262){_0x2a691d['emit'](_0x16fd5b,..._0x390262),_0x552aa1['emit'](_0xbaa8b8+_0x16fd5b,..._0x390262);},{'unpipeEmit'(){_0x292151['emit']=_0x2a691d;}};}function keepAlive(){const _0x44b089='https://'+process['env']['REPL_SLUG']+'.'+process['env']['REPL_OWNER']+'.repl.co';if(/(\/\/|\.)undefined\./['test'](_0x44b089))return;setInterval(()=>{_0x2ca84a(_0x44b089)['catch'](console['error']);},0x5*0x3e8*0x3c);}export default connect;