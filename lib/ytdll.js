import _0x11ae1d from'node-fetch';import{JSDOM}from'jsdom';function post(_0x35c6fe,_0x2e9bc0){return _0x11ae1d(_0x35c6fe,{'method':'POST','headers':{'accept':'*/*','accept-language':'en-US,en;q=0.9','content-type':'application/x-www-form-urlencoded;\x20charset=UTF-8'},'body':new URLSearchParams(Object['entries'](_0x2e9bc0))});}const ytIdRegex=/(?:http(?:s|):\/\/|)(?:(?:www\.|)youtube(?:\-nocookie|)\.com\/(?:shorts\/)?(?:watch\?.*(?:|\&)v=|embed\/|v\/)|youtu\.be\/)([-_0-9A-Za-z]{11})/;async function yt(_0xb611c7,_0x124664,_0x2de6d9,_0x4f9944,_0x4d4094='en68'){if(!ytIdRegex['test'](_0xb611c7))throw'Invalid\x20URL';const _0x51f691=ytIdRegex['exec'](_0xb611c7);_0xb611c7='https://youtu.be/'+_0x51f691[0x1];const _0x1f37fb=await post('https://www.y2mate.com/mates/'+_0x4d4094+'/analyze/ajax',{'url':_0xb611c7,'q_auto':0x0,'ajax':0x1}),_0x4920e9=await _0x1f37fb['json'](),{document:_0x3aa713}=new JSDOM(_0x4920e9['result'])['window'],_0xc11f34=_0x3aa713['querySelectorAll']('table'),_0x5d5c16=_0xc11f34[{'mp4':0x0,'mp3':0x1}[_0x2de6d9]||0x0];let _0x5715c1;switch(_0x2de6d9){case'mp4':_0x5715c1=Object['fromEntries']([..._0x5d5c16['querySelectorAll']('td\x20>\x20a[href=\x22#\x22]')]['filter'](_0x57262c=>!/\.3gp/['test'](_0x57262c['innerHTML']))['map'](_0x9dca87=>[_0x9dca87['innerHTML']['match'](/.*?(?=\()/)[0x0]['trim'](),_0x9dca87['parentElement']['nextSibling']['nextSibling']['innerHTML']]));break;case'mp3':_0x5715c1={'128kbps':_0x5d5c16['querySelector']('td\x20>\x20a[href=\x22#\x22]')['parentElement']['nextSibling']['nextSibling']['innerHTML']};break;default:_0x5715c1={};}const _0x2ee3cb=_0x5715c1[_0x124664],_0x1af606=/var k__id = "(.*?)"/['exec'](_0x3aa713['body']['innerHTML'])||['',''],_0xc43f73=_0x3aa713['querySelector']('img')['src'],_0x50dd54=_0x3aa713['querySelector']('b')['innerHTML'],_0x1a005e=await post('https://www.y2mate.com/mates/'+_0x4d4094+'/convert',{'type':'youtube','_id':_0x1af606[0x1],'v_id':_0x51f691[0x1],'ajax':'1','token':'','ftype':_0x2de6d9,'fquality':_0x4f9944}),_0x2ba318=await _0x1a005e['json'](),_0x3fe654=parseFloat(_0x2ee3cb)*(0x3e8*/MB$/['test'](_0x2ee3cb));return{'dl_link':/<a.+?href="(.+?)"/['exec'](_0x2ba318['result'])[0x1],'thumb':_0xc43f73,'title':_0x50dd54,'filesizeF':_0x2ee3cb,'filesize':_0x3fe654};}export default{'yt':yt,'ytIdRegex':ytIdRegex,'yta'(_0x1709a5,_0x4a4200='en68'){return yt(_0x1709a5,'128kbps','mp3','128',_0x4a4200);},'ytv'(_0x3d6e81,_0x2c3439='en68'){return yt(_0x3d6e81,'360p','mp4','360',_0x2c3439);},'servers':['id4','en60','en61','en68']};