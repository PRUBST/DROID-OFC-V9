import _0x4eded1 from'node-fetch';import{FormData,Blob}from'formdata-node';import{fileTypeFromBuffer}from'file-type';const fileIO=async _0x39d3ab=>{const {ext:_0x23fd8f,mime:_0xbd9c31}=await fileTypeFromBuffer(_0x39d3ab)||{},_0xe202a1=new FormData(),_0x3dfc6f=new Blob([_0x39d3ab['toArrayBuffer']()],{'type':_0xbd9c31});_0xe202a1['append']('file',_0x3dfc6f,'tmp.'+_0x23fd8f);const _0x24b297=await _0x4eded1('https://file.io/?expires=1d',{'method':'POST','body':_0xe202a1}),_0x50ab7c=await _0x24b297['json']();if(!_0x50ab7c['success'])throw _0x50ab7c;return _0x50ab7c['link'];},RESTfulAPI=async _0x53cb8c=>{const _0x3c704f=new FormData();let _0x3fc577=_0x53cb8c;if(!Array['isArray'](_0x53cb8c))_0x3fc577=[_0x53cb8c];for(const _0x568484 of _0x3fc577){const _0x41347e=new Blob([_0x568484['toArrayBuffer']()]);_0x3c704f['append']('file',_0x41347e);}const _0x301308=await _0x4eded1('https://storage.restfulapi.my.id/upload',{'method':'POST','body':_0x3c704f});let _0x1d0a37=await _0x301308['text']();try{_0x1d0a37=JSON['parse'](_0x1d0a37);if(!Array['isArray'](_0x53cb8c))return _0x1d0a37['files'][0x0]['url'];return _0x1d0a37['files']['map'](_0x318910=>_0x318910['url']);}catch(_0x17cb6c){throw _0x1d0a37;}};export default async function (inp){let err=![];for(const upload of[RESTfulAPI,fileIO]){try{return await upload(inp);}catch(e){err=e;}}if(err)throw err;}